"use strict";(self.webpackChunkclipit=self.webpackChunkclipit||[]).push([[983],{9983:(ce,g,a)=>{a.r(g),a.d(g,{UserModule:()=>le});var p=a(9808),h=a(1205),x=a(7566),i=a(3075),M=a(4466),m=a(9100),e=a(5e3),N=a(1609);let u=(()=>{class n{constructor(t,o){this.router=t,this.location=o,this.history=[],this.router.events.subscribe(s=>{s instanceof m.m2&&this.history.push(s.urlAfterRedirects)})}back(){this.history.pop(),this.history.length>0?this.location.back():this.router.navigateByUrl("/")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.F0),e.LFG(p.Ye))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var F=a(276);const I=["*"];let f=(()=>{class n{constructor(t){this.cdr=t,this.tabTitle="",this._active=!1}set active(t){this._active=t,this.cdr.detectChanges()}get active(){return this._active}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tab"]],inputs:{tabTitle:"tabTitle",active:"active"},ngContentSelectors:I,decls:2,vars:2,template:function(t,o){1&t&&(e.F$t(),e.TgZ(0,"div"),e.Hsn(1),e.qZA()),2&t&&e.ekj("hidden",!o.active)},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),n})();const U=function(n,r){return{"hover:text-indigo-400":n,"hover:text-white text-white bg-indigo-400":r}};function S(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li",2)(1,"a",3),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().selectTab(l)}),e._uU(2),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",e.WLB(2,U,!t.active,t.active)),e.xp6(1),e.Oqu(t.tabTitle)}}const J=["*"];let $=(()=>{class n{constructor(){}ngAfterContentInit(){0!==this.tabs.length&&0===this.tabs.filter(o=>o.active).length&&this.selectTab(this.tabs.first)}selectTab(t){return this.tabs.forEach(o=>o.active=!1),t.active=!0,!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tabs-container"]],contentQueries:function(t,o,s){if(1&t&&e.Suo(s,f,4),2&t){let l;e.iGM(l=e.CRH())&&(o.tabs=l)}},ngContentSelectors:J,decls:3,vars:1,consts:[[1,"flex","flex-wrap","mb-4"],["class","flex-auto text-center",4,"ngFor","ngForOf"],[1,"flex-auto","text-center"],[1,"block","rounded","py-3","px-4","transition","hover:text-white","text-white","bg-indigo-400",3,"ngClass","click"]],template:function(t,o){1&t&&(e.F$t(),e.TgZ(0,"ul",0),e.YNc(1,S,3,5,"li",1),e.qZA(),e.Hsn(2)),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.tabs))},directives:[p.sg,p.mk],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),n})();var v=a(5861),d=a(7579),b=a(7556),C=a(8549);function L(n,r){if(1&n&&(e.TgZ(0,"app-alert",11),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("color",t.color),e.xp6(1),e.hij(" ",t.msg,"\n")}}function Q(n,r){1&n&&(e.TgZ(0,"p",12),e._uU(1," Email is invalid "),e.qZA())}function P(n,r){1&n&&(e.TgZ(0,"span",12),e._uU(1," Please enter your password "),e.qZA())}let Y=(()=>{class n{constructor(t,o){this.authService=t,this.navService=o,this.alert$=new d.x,this.processing$=new d.x,this.credentials={email:"",password:""}}login(){var t=this;return(0,v.Z)(function*(){try{t.alert$.next({show:!0,msg:"Please wait while we are processing your request",color:"blue"}),t.processing$.next(!0),yield t.authService.login(t.credentials)}catch(o){return t.processing$.next(!1),t.alert$.next({show:!0,msg:"Something went wrong, please try again later",color:"red"}),void console.log("Nam data is: ",o)}t.alert$.next({show:!0,msg:"Success, you are now logged in!",color:"green"}),t.processing$.next(!1),setTimeout(()=>{t.navService.back()},1e3)})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.e),e.Y36(u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:19,vars:10,consts:[[3,"color",4,"ngIf"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"mb-3"],[1,"inline-block","mb-2"],["type","email","name","email","placeholder","Enter Email","required","","pattern","[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400",3,"ngModel","ngModelChange"],["email","ngModel"],["class","text-red-400",4,"ngIf"],["type","password","name","password","placeholder","Password","required","",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit",1,"block","w-full","bg-indigo-400","text-white","py-1.5","px-3","rounded","transition","hover:bg-indigo-500","disabled:opacity-50","disabled:bg-indigo-400",3,"disabled"],[3,"color"],[1,"text-red-400"]],template:function(t,o){if(1&t&&(e.YNc(0,L,2,2,"app-alert",0),e.ALo(1,"async"),e.TgZ(2,"form",1,2),e.NdJ("ngSubmit",function(){return o.login()}),e.TgZ(4,"div",3)(5,"label",4),e._uU(6,"Email"),e.qZA(),e.TgZ(7,"input",5,6),e.NdJ("ngModelChange",function(l){return o.credentials.email=l}),e.qZA(),e.YNc(9,Q,2,0,"p",7),e.qZA(),e.TgZ(10,"div",3)(11,"label",4),e._uU(12,"Password"),e.qZA(),e.TgZ(13,"input",8,9),e.NdJ("ngModelChange",function(l){return o.credentials.password=l}),e.qZA(),e.YNc(15,P,2,0,"span",7),e.qZA(),e.TgZ(16,"button",10),e.ALo(17,"async"),e._uU(18," Submit "),e.qZA()()),2&t){const s=e.MAs(3),l=e.MAs(8),c=e.MAs(14);e.Q6J("ngIf",e.lcZ(1,6,o.alert$)),e.xp6(7),e.Q6J("ngModel",o.credentials.email),e.xp6(2),e.Q6J("ngIf",l.errors&&l.touched&&l.dirty),e.xp6(4),e.Q6J("ngModel",o.credentials.password),e.xp6(2),e.Q6J("ngIf",c.errors&&c.touched&&c.dirty),e.xp6(1),e.Q6J("disabled",s.invalid||e.lcZ(17,8,o.processing$))}},directives:[p.O5,C.w,i._Y,i.JL,i.F,i.Fj,i.Q7,i.c5,i.JJ,i.On],pipes:[p.Ov],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),n})();var k=a(5867);class z{static match(r){const{controlName:t,matchingControlName:o}=r;return s=>{const l=s.get(t),c=s.get(o);if(!l||!c)return console.error("Form controls cannot be found in the form group"),{controlNotFound:!1};const A=l.value===c.value?null:{noMatch:!0};return c.setErrors(A),A}}}var E=a(9646),y=a(4986),O=a(7272),Z=a(5698),D=a(4482),R=a(5403),q=a(5032),T=a(4004),j=a(5577);function w(n,r){return r?t=>(0,O.z)(r.pipe((0,Z.q)(1),function H(){return(0,D.e)((n,r)=>{n.subscribe((0,R.x)(r,q.Z))})}()),t.pipe(w(n))):(0,j.z)((t,o)=>n(t,o).pipe((0,Z.q)(1),function B(n){return(0,T.U)(()=>n)}(t)))}var G=a(9751),X=a(3532);var _=a(3900),ee=a(8996);let te=(()=>{class n{constructor(t){this.angularFireAuth=t,this.validate=o=>(0,E.of)(o.value).pipe(function K(n,r=y.z){const t=function W(n=0,r,t=y.P){let o=-1;return null!=r&&((0,X.K)(r)?t=r:o=r),new G.y(s=>{let l=function V(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let c=0;return t.schedule(function(){s.closed||(s.next(c++),0<=o?this.schedule(void 0,o):s.complete())},l)})}(n,r);return w(()=>t)}(500),(0,_.w)(s=>(0,ee.D)(this.angularFireAuth.fetchSignInMethodsForEmail(s))),(0,T.U)(s=>s.length>0?{emailTaken:!0}:null))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(h.zQ))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ne=a(235);function oe(n,r){if(1&n&&(e.TgZ(0,"app-alert",12),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("color",t.color),e.xp6(1),e.hij(" ",t.msg," ")}}function re(n,r){if(1&n&&(e.ynx(0),e.YNc(1,oe,2,2,"app-alert",11),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.show)}}let ie=(()=>{class n{constructor(t,o,s){this.authService=t,this.navService=o,this.emailTaken=s,this.registerFormFields={name:"name",email:"email",age:"age",password:"password",confirmedPassword:"confirmedPassword",phoneNumber:"phoneNumber"},this.name=new i.NI("",[i.kI.required,i.kI.minLength(3)]),this.email=new i.NI("",[i.kI.required,i.kI.email],[this.emailTaken.validate]),this.age=new i.NI("",[i.kI.required,i.kI.min(18),i.kI.max(120)]),this.phoneNumber=new i.NI("",[i.kI.required,i.kI.maxLength(13),i.kI.minLength(13)]),this.password=new i.NI("",[i.kI.required,i.kI.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm)]),this.confirmedPassword=new i.NI("",[i.kI.required]),this.registerForm=new i.cw({name:this.name,email:this.email,age:this.age,password:this.password,confirmedPassword:this.confirmedPassword,phoneNumber:this.phoneNumber},[z.match({controlName:"password",matchingControlName:"confirmedPassword"})]),this.alert$=new d.x,this.processing$=new d.x}onFormSubmit(){var t=this;return(0,v.Z)(function*(){t.processing$.next(!0),t.alert$.next({show:!0,msg:"Please wait while your account is being created!",color:"blue"});try{yield t.authService.createUser(t.registerForm.value)}catch(l){return l instanceof k.ZR?t.alert$.next({show:!0,msg:l.message,color:"red"}):(console.log("Nam data is: ",l),t.alert$.next({show:!0,msg:"Something went wrong. Please try again later.",color:"red"})),void t.processing$.next(!1)}t.processing$.next(!1),t.alert$.next({show:!0,msg:"Success! Your account has been created!",color:"green"}),setTimeout(()=>{t.navService.back()},1e3)})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.e),e.Y36(u),e.Y36(te))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],decls:30,vars:13,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"inline-block","mb-2"],["placeHolder","Enter Name",3,"control"],["placeHolder","Enter Email","type","email",3,"control"],["type","number","placeHolder","Enter Age",3,"control"],["type","password","placeHolder","Enter Password",3,"control"],["type","password","placeHolder","Confirm Password",3,"control"],["type","phone","placeHolder","Enter Phone Number","format","(000)000-0000",3,"control"],["type","submit",1,"block","disabled:opacity-50","disabled:bg-indigo-400","w-full","bg-indigo-400","text-white","py-1.5","px-3","rounded","transition","hover:bg-indigo-500",3,"disabled"],[3,"color",4,"ngIf"],[3,"color"]],template:function(t,o){1&t&&(e.YNc(0,re,2,1,"ng-container",0),e.ALo(1,"async"),e.TgZ(2,"form",1),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(3,"div",2)(4,"label",3),e._uU(5,"Name"),e.qZA(),e._UZ(6,"app-input",4),e.qZA(),e.TgZ(7,"div",2)(8,"label",3),e._uU(9,"Email"),e.qZA(),e._UZ(10,"app-input",5),e.qZA(),e.TgZ(11,"div",2)(12,"label",3),e._uU(13,"Age"),e.qZA(),e._UZ(14,"app-input",6),e.qZA(),e.TgZ(15,"div",2)(16,"label",3),e._uU(17,"Password"),e.qZA(),e._UZ(18,"app-input",7),e.qZA(),e.TgZ(19,"div",2)(20,"label",3),e._uU(21,"Confirm Password"),e.qZA(),e._UZ(22,"app-input",8),e.qZA(),e.TgZ(23,"div",2)(24,"label",3),e._uU(25,"Phone Number"),e.qZA(),e._UZ(26,"app-input",9),e.qZA(),e.TgZ(27,"button",10),e.ALo(28,"async"),e._uU(29," Submit "),e.qZA()()),2&t&&(e.Q6J("ngIf",e.lcZ(1,9,o.alert$)),e.xp6(2),e.Q6J("formGroup",o.registerForm),e.xp6(4),e.Q6J("control",o.name),e.xp6(4),e.Q6J("control",o.email),e.xp6(4),e.Q6J("control",o.age),e.xp6(4),e.Q6J("control",o.password),e.xp6(4),e.Q6J("control",o.confirmedPassword),e.xp6(4),e.Q6J("control",o.phoneNumber),e.xp6(1),e.Q6J("disabled",o.registerForm.invalid||e.lcZ(28,11,o.processing$)))},directives:[p.O5,C.w,i._Y,i.JL,i.sg,ne.a],pipes:[p.Ov],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),n})();const ae=[{path:"",component:(()=>{class n{constructor(t,o){this.modalService=t,this.navigationService=o,this.MODAL_ID="registrationModal"}ngOnInit(){this.modalService.registerModal(this.MODAL_ID),this.modalService.showModal(this.MODAL_ID)}onModalClose(){this.navigationService.back()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(N.Z),e.Y36(u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-auth-modal"]],decls:8,vars:1,consts:[[3,"id","modalClose"],["heading","",1,"text-2xl","font-bold"],["tabTitle","Login"],["tabTitle","Register"]],template:function(t,o){1&t&&(e.TgZ(0,"app-modal",0),e.NdJ("modalClose",function(){return o.onModalClose()}),e.TgZ(1,"p",1),e._uU(2,"Your Account"),e.qZA(),e.TgZ(3,"app-tabs-container")(4,"app-tab",2),e._UZ(5,"app-login"),e.qZA(),e.TgZ(6,"app-tab",3),e._UZ(7,"app-register"),e.qZA()()()),2&t&&e.Q6J("id",o.MODAL_ID)},directives:[F.z,$,f,Y,ie],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),n})()}];let se=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.Bz.forChild(ae)],m.Bz]}),n})(),le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez,se,M.m,i.UX,i.u5,h.ww,x.yb]]}),n})()}}]);